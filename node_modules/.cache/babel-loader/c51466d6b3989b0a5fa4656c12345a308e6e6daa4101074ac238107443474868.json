{"ast":null,"code":"import _regeneratorRuntime from\"/Users/rsahani/Documents/RAHUL/PROJECT V-Anime/v-anime1/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/rsahani/Documents/RAHUL/PROJECT V-Anime/v-anime1/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/rsahani/Documents/RAHUL/PROJECT V-Anime/v-anime1/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import'../main.css';import Card_Component from'../components/card';import MY_Navbar2 from'../components/Navbar_2';import ThemeToggleButton from'../components/toggleTheme';import{Link,useLocation}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ItemPerPage=5;var Search=function Search(_ref){var query_y=_ref.query_y;var _useState=useState(\"One Piece\"),_useState2=_slicedToArray(_useState,2),Query=_useState2[0],setQuery=_useState2[1];var temp=\"\";var _useState3=useState(1),_useState4=_slicedToArray(_useState3,2),page=_useState4[0],setPage=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),animeList=_useState6[0],setAnimeList=_useState6[1];var _useState7=useState(1),_useState8=_slicedToArray(_useState7,2),totalPages=_useState8[0],setTotalPages=_useState8[1];var _useState9=useState(1),_useState10=_slicedToArray(_useState9,2),Totalitems=_useState10[0],setTotalItems=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),isDarkMode=_useState12[0],setIsDarkMode=_useState12[1];var handleThemeToggle=function handleThemeToggle(){setIsDarkMode(!isDarkMode);};var location=useLocation();var fetchLocation=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var _location$state,_location$state2;var temp,fromHome;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:temp=location.search.split(\"=\");setQuery(temp[1]);if(((_location$state=location.state)===null||_location$state===void 0?void 0:_location$state.fromHome)==true){setQuery(location.search.split(\"=\"));console.log(\"QQQ \"+Query);}fromHome=(_location$state2=location.state)===null||_location$state2===void 0?void 0:_location$state2.fromHome;console.log(fromHome);case 5:case\"end\":return _context.stop();}},_callee);}));return function fetchLocation(){return _ref2.apply(this,arguments);};}();var fetchAnime=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(query,page){var formattedQuery,response,data,Query;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:formattedQuery=query.replace(/\\s+/g,\"%20\").toLowerCase();console.log(formattedQuery);// \"attack-on-titan\"\n_context2.next=4;return fetch(\"https://api.consumet.org/anime/gogoanime/\".concat(formattedQuery,\"?page=\").concat(page));case 4:response=_context2.sent;_context2.next=7;return response.json();case 7:data=_context2.sent;console.log(data);setAnimeList(data.results);setQuery(temp);Query=\"\";setQuery(Query);case 13:case\"end\":return _context2.stop();}},_callee2);}));return function fetchAnime(_x,_x2){return _ref3.apply(this,arguments);};}();useEffect(function(){console.log(\"Welcome to Search \"+location.search);if(location.search!=undefined||location.search!=null){temp=location.search.split(\"=\")[1];fetchAnime(temp,page);}else{fetchAnime(Query,page);}},[]);return/*#__PURE__*/_jsx(\"div\",{className:\"app\",children:/*#__PURE__*/_jsxs(\"div\",{className:isDarkMode?'app light-theme':'app dark-theme',children:[/*#__PURE__*/_jsx(MY_Navbar2,{}),/*#__PURE__*/_jsx(\"div\",{className:\"toggle\",children:/*#__PURE__*/_jsx(ThemeToggleButton,{isDarkMode:isDarkMode,onToggle:handleThemeToggle})}),/*#__PURE__*/_jsxs(\"div\",{className:\"search1-box content-wrap\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"search-box\",value:Query,type:\"text\",onChange:function onChange(e){return setQuery(e.target.value);}}),/*#__PURE__*/_jsx(Link,{to:{pathname:'/search',search:\"?query=\".concat(Query)},children:/*#__PURE__*/_jsx(\"input\",{className:\"button-27\",value:\"Search\",type:\"Button\",onClick:function onClick(){return fetchAnime(Query,1);}})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:animeList===null||animeList===void 0?void 0:animeList.map(function(anime,index){return/*#__PURE__*/ (// <Link to={`/watch/${anime.id}-episode-1`} className={'main-card'}>\n_jsx(Card_Component,{className:'anime-card',title:anime.title,id:anime.id,description:\"\",image:anime.image},index)// </Link>\n);})},\"D-ID\")]})});};export default Search;","map":{"version":3,"names":["React","useState","useEffect","Card_Component","MY_Navbar2","ThemeToggleButton","Link","useLocation","ItemPerPage","Search","query_y","Query","setQuery","temp","page","setPage","animeList","setAnimeList","totalPages","setTotalPages","Totalitems","setTotalItems","isDarkMode","setIsDarkMode","handleThemeToggle","location","fetchLocation","search","split","state","fromHome","console","log","fetchAnime","query","formattedQuery","replace","toLowerCase","fetch","response","json","data","results","undefined","e","target","value","pathname","map","anime","index","title","id","image"],"sources":["/Users/rsahani/Documents/RAHUL/PROJECT V-Anime/v-anime1/src/pages/Search.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport '../main.css';\nimport Card_Component from '../components/card';\nimport MY_Navbar2 from '../components/Navbar_2';\nimport ThemeToggleButton from '../components/toggleTheme';\nimport { Link, useLocation } from 'react-router-dom';\nconst ItemPerPage = 5;\n\nconst Search = ({ query_y }) => {\n    const [Query, setQuery] = useState(\"One Piece\");\n    let temp = \"\";\n    const [page, setPage] = useState(1);\n    const [animeList, setAnimeList] = useState([]);\n    const [totalPages, setTotalPages] = useState(1);\n    const [Totalitems, setTotalItems] = useState(1);\n\n    const [isDarkMode, setIsDarkMode] = useState(false);\n\n    const handleThemeToggle = () => {\n        setIsDarkMode(!isDarkMode);\n    };\n\n\n    const location = useLocation();\n    const fetchLocation = async () => {\n        const temp = location.search.split(\"=\");\n        setQuery(temp[1]);\n        if (location.state?.fromHome == true) {\n            setQuery(location.search.split(\"=\"));\n            console.log(\"QQQ \" + Query);\n        }\n        const fromHome = location.state?.fromHome;\n        console.log(fromHome);\n\n    }\n\n    const fetchAnime = async (query, page) => {\n        let formattedQuery = query.replace(/\\s+/g, \"%20\").toLowerCase(); \n        console.log(formattedQuery); // \"attack-on-titan\"\n        const response = await fetch(`https://api.consumet.org/anime/gogoanime/${formattedQuery}?page=${page}`);\n        const data = await response.json();\n        console.log(data);\n        setAnimeList(data.results);\n        setQuery(temp);\n        const Query = \"\";\n        setQuery(Query);\n    };\n\n    useEffect(() => {\n        console.log(\"Welcome to Search \" + location.search);\n        if (location.search != undefined || location.search != null) {\n            temp = location.search.split(\"=\")[1];\n            fetchAnime(temp, page);\n        }\n        else {\n            fetchAnime(Query, page);\n        }\n    }, []);\n    return (\n        <div className={`app`}>\n            <div className={isDarkMode ? 'app light-theme' : 'app dark-theme'}>\n                <MY_Navbar2 />\n                <div className='toggle'>\n                    <ThemeToggleButton isDarkMode={isDarkMode} onToggle={handleThemeToggle} />\n                </div>\n                <div className='search1-box content-wrap'>\n\n                    <input className='search-box' value={Query} type={\"text\"} onChange={e => setQuery(e.target.value)} />\n                    <Link to={{\n                        pathname: '/search',\n                        search: `?query=${Query}`\n                    }} >\n                        <input className='button-27' value={\"Search\"} type={\"Button\"} onClick={() => fetchAnime(Query, 1)} />\n                    </Link>\n\n                </div>\n                <div className='container' key={\"D-ID\"}>\n                    {\n                        animeList?.map((anime, index) => (\n                            // <Link to={`/watch/${anime.id}-episode-1`} className={'main-card'}>\n                                <Card_Component className={'anime-card'} title={anime.title} id={anime.id} description={\"\"} image={anime.image} key={index} />\n                            // </Link>\n                        )\n                        )}\n                </div>\n\n            </div>\n        </div >\n    )\n\n}\nexport default Search;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}