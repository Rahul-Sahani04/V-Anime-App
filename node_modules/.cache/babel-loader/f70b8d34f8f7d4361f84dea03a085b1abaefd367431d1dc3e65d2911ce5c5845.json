{"ast":null,"code":"import _regeneratorRuntime from\"/Users/rsahani/Documents/RAHUL/PROJECT V-Anime/v-anime1/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/rsahani/Documents/RAHUL/PROJECT V-Anime/v-anime1/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/rsahani/Documents/RAHUL/PROJECT V-Anime/v-anime1/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import'../main.css';import Card from'../components/card';import{jsx as _jsx}from\"react/jsx-runtime\";var ITEMS_PER_PAGE=10;var Search=function Search(_ref){var query_y=_ref.query_y;var _useState=useState(query_y),_useState2=_slicedToArray(_useState,2),Query=_useState2[0],setQuery=_useState2[1];var _useState3=useState(1),_useState4=_slicedToArray(_useState3,2),Page=_useState4[0],setPage=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),animeList=_useState6[0],setAnimeList=_useState6[1];var fetchAnime=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(query,page){var response,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"https://api.jikan.moe/v4/anime?q=\\\"\".concat(query,\"\\\"&page=\").concat(page,\"&order_by=title&sort=asc\"));case 2:response=_context.sent;_context.next=5;return response.json();case 5:data=_context.sent;console.log(data.data);setAnimeList(data.data);case 8:case\"end\":return _context.stop();}},_callee);}));return function fetchAnime(_x,_x2){return _ref2.apply(this,arguments);};}();useEffect(function(){fetchAnime(Query,1);},[]);return/*#__PURE__*/_jsx(\"div\",{onScroll:function onScroll(){var bottom=document.documentElement.scrollHeight-document.documentElement.scrollTop===document.documentElement.clientHeight;if(bottom){setPage(Page+1);}},children:animeList.slice(0,Page*ITEMS_PER_PAGE).map(function(item,index){return/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:animeList===null||animeList===void 0?void 0:animeList.map(function(anime,index){return/*#__PURE__*/_jsx(Card,{className:'anime-card',title:anime.title,description:anime.synopsis,image:anime.images.jpg.large_image_url},index);})});})});};export default Search;","map":{"version":3,"names":["React","useState","useEffect","Card","ITEMS_PER_PAGE","Search","query_y","Query","setQuery","Page","setPage","animeList","setAnimeList","fetchAnime","query","page","fetch","response","json","data","console","log","bottom","document","documentElement","scrollHeight","scrollTop","clientHeight","slice","map","item","index","anime","title","synopsis","images","jpg","large_image_url"],"sources":["/Users/rsahani/Documents/RAHUL/PROJECT V-Anime/v-anime1/src/pages/Search.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport '../main.css';\nimport Card from '../components/card';\nconst ITEMS_PER_PAGE = 10;\n\nconst Search = ({ query_y }) => {\n    const [Query, setQuery] = useState(query_y);\n    const [Page, setPage] = useState(1);\n    const [animeList, setAnimeList] = useState([]);\n\n\n    const fetchAnime = async (query, page) => {\n        const response = await fetch(`https://api.jikan.moe/v4/anime?q=\"${query}\"&page=${page}&order_by=title&sort=asc`);\n        const data = await response.json();\n        console.log(data.data);\n        setAnimeList(data.data);\n    };\n\n    useEffect(() => {\n        fetchAnime(Query, 1);\n      }, []);\n    return (\n        <div onScroll={() => {\n            const bottom =\n              document.documentElement.scrollHeight -\n              document.documentElement.scrollTop ===\n              document.documentElement.clientHeight;\n            if (bottom) {\n              setPage(Page + 1);\n            }\n          }}>\n            {animeList.slice(0, Page * ITEMS_PER_PAGE).map((item, index) => (\n        <div className=\"container\">\n            {\n                animeList?.map((anime, index) => (\n                    <Card className={'anime-card'} title={anime.title} description={anime.synopsis} image={anime.images.jpg.large_image_url} key={index} />\n                )\n                )}\n                \n        </div>\n        ))}\n        </div>\n    )\n    \n}\nexport default Search;"],"mappings":"ubAAA,MAAOA,MAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,aAAa,CACpB,MAAOC,KAAI,KAAM,oBAAoB,CAAC,2CACtC,GAAMC,eAAc,CAAG,EAAE,CAEzB,GAAMC,OAAM,CAAG,QAATA,OAAM,MAAoB,IAAdC,QAAO,MAAPA,OAAO,CACrB,cAA0BL,QAAQ,CAACK,OAAO,CAAC,wCAApCC,KAAK,eAAEC,QAAQ,eACtB,eAAwBP,QAAQ,CAAC,CAAC,CAAC,yCAA5BQ,IAAI,eAAEC,OAAO,eACpB,eAAkCT,QAAQ,CAAC,EAAE,CAAC,yCAAvCU,SAAS,eAAEC,YAAY,eAG9B,GAAMC,WAAU,6FAAG,iBAAOC,KAAK,CAAEC,IAAI,2JACVC,MAAK,8CAAsCF,KAAK,oBAAUC,IAAI,6BAA2B,QAA1GE,QAAQ,qCACKA,SAAQ,CAACC,IAAI,EAAE,QAA5BC,IAAI,eACVC,OAAO,CAACC,GAAG,CAACF,IAAI,CAACA,IAAI,CAAC,CACtBP,YAAY,CAACO,IAAI,CAACA,IAAI,CAAC,CAAC,qDAC3B,kBALKN,WAAU,iDAKf,CAEDX,SAAS,CAAC,UAAM,CACZW,UAAU,CAACN,KAAK,CAAE,CAAC,CAAC,CACtB,CAAC,CAAE,EAAE,CAAC,CACR,mBACI,YAAK,QAAQ,CAAE,mBAAM,CACjB,GAAMe,OAAM,CACVC,QAAQ,CAACC,eAAe,CAACC,YAAY,CACrCF,QAAQ,CAACC,eAAe,CAACE,SAAS,GAClCH,QAAQ,CAACC,eAAe,CAACG,YAAY,CACvC,GAAIL,MAAM,CAAE,CACVZ,OAAO,CAACD,IAAI,CAAG,CAAC,CAAC,CACnB,CACF,CAAE,UACCE,SAAS,CAACiB,KAAK,CAAC,CAAC,CAAEnB,IAAI,CAAGL,cAAc,CAAC,CAACyB,GAAG,CAAC,SAACC,IAAI,CAAEC,KAAK,qBAC/D,YAAK,SAAS,CAAC,WAAW,UAElBpB,SAAS,SAATA,SAAS,iBAATA,SAAS,CAAEkB,GAAG,CAAC,SAACG,KAAK,CAAED,KAAK,qBACxB,KAAC,IAAI,EAAC,SAAS,CAAE,YAAa,CAAC,KAAK,CAAEC,KAAK,CAACC,KAAM,CAAC,WAAW,CAAED,KAAK,CAACE,QAAS,CAAC,KAAK,CAAEF,KAAK,CAACG,MAAM,CAACC,GAAG,CAACC,eAAgB,EAAMN,KAAK,CAAI,EAC1I,CACA,EAEH,EACL,CAAC,EACI,CAGd,CAAC,CACD,cAAe1B,OAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}