{"ast":null,"code":"import _regeneratorRuntime from\"/Users/rsahani/Documents/RAHUL/PROJECT V-Anime/v-anime1/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/rsahani/Documents/RAHUL/PROJECT V-Anime/v-anime1/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/rsahani/Documents/RAHUL/PROJECT V-Anime/v-anime1/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import'../main.css';import Card from'../components/card';import{jsx as _jsx}from\"react/jsx-runtime\";var ITEMS_PER_PAGE=10;var Search=function Search(_ref){var query_y=_ref.query_y;var _useState=useState(query_y),_useState2=_slicedToArray(_useState,2),Query=_useState2[0],setQuery=_useState2[1];var _useState3=useState(1),_useState4=_slicedToArray(_useState3,2),Page=_useState4[0],setPage=_useState4[1];var _useState5=useState(1),_useState6=_slicedToArray(_useState5,2),totalPages=_useState6[0],setTotalPages=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),animeList=_useState8[0],setAnimeList=_useState8[1];var length=0;var fetchAnime=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(query,page){var response,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"https://api.jikan.moe/v4/anime?q=\\\"\".concat(query,\"\\\"&page=\").concat(page,\"&order_by=title&sort=asc\"));case 2:response=_context.sent;_context.next=5;return response.json();case 5:data=_context.sent;console.log(data.data);setAnimeList(data.data);setTotalPages(data.data.total_pages);case 9:case\"end\":return _context.stop();}},_callee);}));return function fetchAnime(_x,_x2){return _ref2.apply(this,arguments);};}();useEffect(function(){fetchAnime(Query,1);},[]);return/*#__PURE__*/ (// <div onScroll={() => {\n//     const bottom =\n//       document.documentElement.scrollHeight -\n//       document.documentElement.scrollTop ===\n//       document.documentElement.clientHeight;\n//       if (bottom && Page < totalPages) {\n//         setPage(Page + 1);\n//       }\n//   }}>\n// {animeList.slice(0, Page * ITEMS_PER_PAGE).map((item, index) => (\n_jsx(\"div\",{className:\"container\",children:animeList===null||animeList===void 0?void 0:animeList.map(function(anime,index){return/*#__PURE__*/_jsx(Card,{className:'anime-card',title:anime.title,description:anime.synopsis,image:anime.images.jpg.large_image_url},index);})})// ))}\n// </div>\n);};export default Search;","map":{"version":3,"names":["React","useState","useEffect","Card","ITEMS_PER_PAGE","Search","query_y","Query","setQuery","Page","setPage","totalPages","setTotalPages","animeList","setAnimeList","length","fetchAnime","query","page","fetch","response","json","data","console","log","total_pages","map","anime","index","title","synopsis","images","jpg","large_image_url"],"sources":["/Users/rsahani/Documents/RAHUL/PROJECT V-Anime/v-anime1/src/pages/Search.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport '../main.css';\nimport Card from '../components/card';\nconst ITEMS_PER_PAGE = 10;\n\nconst Search = ({ query_y }) => {\n    const [Query, setQuery] = useState(query_y);\n    const [Page, setPage] = useState(1);\n    const [totalPages, setTotalPages] = useState(1);\n    const [animeList, setAnimeList] = useState([]);\n    const length =  0;\n\n    const fetchAnime = async (query, page) => {\n        const response = await fetch(`https://api.jikan.moe/v4/anime?q=\"${query}\"&page=${page}&order_by=title&sort=asc`);\n        const data = await response.json();\n        console.log(data.data);\n        setAnimeList(data.data);\n        setTotalPages(data.data.total_pages);\n    };\n    \n    useEffect(() => {\n        fetchAnime(Query, 1);\n      }, []);\n    return (\n        // <div onScroll={() => {\n        //     const bottom =\n        //       document.documentElement.scrollHeight -\n        //       document.documentElement.scrollTop ===\n        //       document.documentElement.clientHeight;\n        //       if (bottom && Page < totalPages) {\n        //         setPage(Page + 1);\n        //       }\n        //   }}>\n            // {animeList.slice(0, Page * ITEMS_PER_PAGE).map((item, index) => (\n        <div className=\"container\">\n            {\n                animeList?.map((anime, index) => (\n                    <Card className={'anime-card'} title={anime.title} description={anime.synopsis} image={anime.images.jpg.large_image_url} key={index} />\n                )\n                )}\n                \n        </div>\n        // ))}\n        // </div>\n    )\n    \n}\nexport default Search;"],"mappings":"ubAAA,MAAOA,MAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,aAAa,CACpB,MAAOC,KAAI,KAAM,oBAAoB,CAAC,2CACtC,GAAMC,eAAc,CAAG,EAAE,CAEzB,GAAMC,OAAM,CAAG,QAATA,OAAM,MAAoB,IAAdC,QAAO,MAAPA,OAAO,CACrB,cAA0BL,QAAQ,CAACK,OAAO,CAAC,wCAApCC,KAAK,eAAEC,QAAQ,eACtB,eAAwBP,QAAQ,CAAC,CAAC,CAAC,yCAA5BQ,IAAI,eAAEC,OAAO,eACpB,eAAoCT,QAAQ,CAAC,CAAC,CAAC,yCAAxCU,UAAU,eAAEC,aAAa,eAChC,eAAkCX,QAAQ,CAAC,EAAE,CAAC,yCAAvCY,SAAS,eAAEC,YAAY,eAC9B,GAAMC,OAAM,CAAI,CAAC,CAEjB,GAAMC,WAAU,6FAAG,iBAAOC,KAAK,CAAEC,IAAI,2JACVC,MAAK,8CAAsCF,KAAK,oBAAUC,IAAI,6BAA2B,QAA1GE,QAAQ,qCACKA,SAAQ,CAACC,IAAI,EAAE,QAA5BC,IAAI,eACVC,OAAO,CAACC,GAAG,CAACF,IAAI,CAACA,IAAI,CAAC,CACtBR,YAAY,CAACQ,IAAI,CAACA,IAAI,CAAC,CACvBV,aAAa,CAACU,IAAI,CAACA,IAAI,CAACG,WAAW,CAAC,CAAC,qDACxC,kBANKT,WAAU,iDAMf,CAEDd,SAAS,CAAC,UAAM,CACZc,UAAU,CAACT,KAAK,CAAE,CAAC,CAAC,CACtB,CAAC,CAAE,EAAE,CAAC,CACR,oBACI;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACI;AACJ,YAAK,SAAS,CAAC,WAAW,UAElBM,SAAS,SAATA,SAAS,iBAATA,SAAS,CAAEa,GAAG,CAAC,SAACC,KAAK,CAAEC,KAAK,qBACxB,KAAC,IAAI,EAAC,SAAS,CAAE,YAAa,CAAC,KAAK,CAAED,KAAK,CAACE,KAAM,CAAC,WAAW,CAAEF,KAAK,CAACG,QAAS,CAAC,KAAK,CAAEH,KAAK,CAACI,MAAM,CAACC,GAAG,CAACC,eAAgB,EAAML,KAAK,CAAI,EAC1I,CACA,EAGT;AACA;AAAA,EAGR,CAAC,CACD,cAAevB,OAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}