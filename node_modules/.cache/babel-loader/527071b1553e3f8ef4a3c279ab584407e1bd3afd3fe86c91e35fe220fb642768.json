{"ast":null,"code":"import _slicedToArray from\"/Users/rsahani/Documents/RAHUL/PROJECT V-Anime/v-anime1/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";// import './main.css'\nimport{jsx as _jsx}from\"react/jsx-runtime\";var ITEMS_PER_PAGE=10;function Recom(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),items=_useState2[0],setItems=_useState2[1];var _useState3=useState(1),_useState4=_slicedToArray(_useState3,2),page=_useState4[0],setPage=_useState4[1];useEffect(function(){fetch(\"https://api.jikan.moe/v4/recommendations/anime?page=\".concat(page)).then(function(response){return response.json();}).then(function(data1){setItems(items.concat(data1.rec));console.log(items);});},[page]);return/*#__PURE__*/_jsx(\"div\",{onScroll:function onScroll(){var bottom=document.documentElement.scrollHeight-document.documentElement.scrollTop===document.documentElement.clientHeight;if(bottom){setPage(page+1);}},children:items.slice(0,page*ITEMS_PER_PAGE).map(function(item,index){return/*#__PURE__*/_jsx(\"div\",{children:item.title},index);})});}export default Recom;","map":{"version":3,"names":["React","useState","useEffect","ITEMS_PER_PAGE","Recom","items","setItems","page","setPage","fetch","then","response","json","data1","concat","rec","console","log","bottom","document","documentElement","scrollHeight","scrollTop","clientHeight","slice","map","item","index","title"],"sources":["/Users/rsahani/Documents/RAHUL/PROJECT V-Anime/v-anime1/src/pages/Recom.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\n// import './main.css'\nconst ITEMS_PER_PAGE = 10;\n\nfunction Recom() {\n  const [items, setItems] = useState([]);\n  const [page, setPage] = useState(1);\n\n  useEffect(() => {\n    fetch(`https://api.jikan.moe/v4/recommendations/anime?page=${page}`)\n      .then(response => response.json())\n      .then(data1 => {\n        setItems(items.concat(data1.rec));\n        console.log(items);\n      });\n  }, [page]);\n\n  return (\n    <div onScroll={() => {\n      const bottom =\n        document.documentElement.scrollHeight -\n        document.documentElement.scrollTop ===\n        document.documentElement.clientHeight;\n      if (bottom) {\n        setPage(page + 1);\n      }\n    }}>\n      {items.slice(0, page * ITEMS_PER_PAGE).map((item, index) => (\n        <div key={index}>{item.title}</div>\n      ))}\n    </div>\n  );\n}\n\nexport default Recom;"],"mappings":"6IAAA,MAAOA,MAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD;AAAA,2CACA,GAAMC,eAAc,CAAG,EAAE,CAEzB,QAASC,MAAK,EAAG,CACf,cAA0BH,QAAQ,CAAC,EAAE,CAAC,wCAA/BI,KAAK,eAAEC,QAAQ,eACtB,eAAwBL,QAAQ,CAAC,CAAC,CAAC,yCAA5BM,IAAI,eAAEC,OAAO,eAEpBN,SAAS,CAAC,UAAM,CACdO,KAAK,+DAAwDF,IAAI,EAAG,CACjEG,IAAI,CAAC,SAAAC,QAAQ,QAAIA,SAAQ,CAACC,IAAI,EAAE,GAAC,CACjCF,IAAI,CAAC,SAAAG,KAAK,CAAI,CACbP,QAAQ,CAACD,KAAK,CAACS,MAAM,CAACD,KAAK,CAACE,GAAG,CAAC,CAAC,CACjCC,OAAO,CAACC,GAAG,CAACZ,KAAK,CAAC,CACpB,CAAC,CAAC,CACN,CAAC,CAAE,CAACE,IAAI,CAAC,CAAC,CAEV,mBACE,YAAK,QAAQ,CAAE,mBAAM,CACnB,GAAMW,OAAM,CACVC,QAAQ,CAACC,eAAe,CAACC,YAAY,CACrCF,QAAQ,CAACC,eAAe,CAACE,SAAS,GAClCH,QAAQ,CAACC,eAAe,CAACG,YAAY,CACvC,GAAIL,MAAM,CAAE,CACVV,OAAO,CAACD,IAAI,CAAG,CAAC,CAAC,CACnB,CACF,CAAE,UACCF,KAAK,CAACmB,KAAK,CAAC,CAAC,CAAEjB,IAAI,CAAGJ,cAAc,CAAC,CAACsB,GAAG,CAAC,SAACC,IAAI,CAAEC,KAAK,qBACrD,qBAAkBD,IAAI,CAACE,KAAK,EAAlBD,KAAK,CAAoB,EACpC,CAAC,EACE,CAEV,CAEA,cAAevB,MAAK"},"metadata":{},"sourceType":"module","externalDependencies":[]}