{"ast":null,"code":"import _regeneratorRuntime from\"/Users/rsahani/Documents/RAHUL/PROJECT V-Anime/v-anime1/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/rsahani/Documents/RAHUL/PROJECT V-Anime/v-anime1/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/rsahani/Documents/RAHUL/PROJECT V-Anime/v-anime1/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import'../main.css';import Card_Component from'../components/card';import{jsx as _jsx}from\"react/jsx-runtime\";var ItemPerPage=5;function Recom(props){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),recomList=_useState2[0],setRecomList=_useState2[1];var _useState3=useState(1),_useState4=_slicedToArray(_useState3,2),page=_useState4[0],setPage=_useState4[1];var _useState5=useState(1),_useState6=_slicedToArray(_useState5,2),totalPages=_useState6[0],setTotalPages=_useState6[1];// console.log(recomList);\nvar fetchRecom=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(query){var response,data,totalPages;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"https://api.jikan.moe/v4/recommendations/anime?page=1\");case 2:response=_context.sent;_context.next=5;return response.json();case 5:data=_context.sent;totalPages=data.pagination.last_visible_page;// console.log(data.data);\nsetRecomList(data.data);setTotalPages(totalPages);console.log(\"TOTAL PAGE: \".concat(totalPages));case 10:case\"end\":return _context.stop();}},_callee);}));return function fetchRecom(_x){return _ref.apply(this,arguments);};}();useEffect(function(){fetchRecom();},[]);return/*#__PURE__*/_jsx(\"div\",{onScroll:function onScroll(){if(page<totalPages){setPage(page+1);}},children:recomList.slice(0,page*ItemPerPage).map(function(item,index){return/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:recomList===null||recomList===void 0?void 0:recomList.map(function(recom,index){return/*#__PURE__*/_jsx(Card_Component,{theme_mode:props.theme,className:'anime-card',title:recom.entry[0].title,image:recom.entry[0].images.jpg.large_image_url,description:recom.content,href:recom.entry[0].url},\"ID\"+index);})},\"D-ID\"+index);})});}export default Recom;","map":{"version":3,"names":["React","useState","useEffect","Card_Component","ItemPerPage","Recom","props","recomList","setRecomList","page","setPage","totalPages","setTotalPages","fetchRecom","query","fetch","response","json","data","pagination","last_visible_page","console","log","slice","map","item","index","recom","theme","entry","title","images","jpg","large_image_url","content","url"],"sources":["/Users/rsahani/Documents/RAHUL/PROJECT V-Anime/v-anime1/src/pages/Recom.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport '../main.css';\nimport Card_Component from '../components/card';\nconst ItemPerPage = 5;\nfunction Recom(props) {\n  const [recomList, setRecomList] = useState([]);\n  const [page, setPage] = useState(1);\n  const [totalPages, setTotalPages] = useState(1);\n\n  // console.log(recomList);\n  const fetchRecom = async (query) => {\n    const response = await fetch(`https://api.jikan.moe/v4/recommendations/anime?page=1`);\n    const data = await response.json();\n    const totalPages = data.pagination.last_visible_page;\n    // console.log(data.data);\n    setRecomList(data.data);\n    setTotalPages(totalPages);\n    console.log(`TOTAL PAGE: ${totalPages}`);\n  };\n  \n  useEffect(() => {\n    fetchRecom();\n  }, []);\n\n  return (\n    <div onScroll={() => {\n        if (page < totalPages) {\n          setPage(page + 1);\n        }\n    }}>\n      {recomList.slice(0, page * ItemPerPage).map((item, index) => (\n        <div className='container' key={\"D-ID\" + index}>\n          {/* <Recom/> */}\n\n          {\n            recomList?.map((recom, index) => (\n              <Card_Component theme_mode={props.theme} className={'anime-card'} title={recom.entry[0].title} image={recom.entry[0].images.jpg.large_image_url} description={recom.content} href={recom.entry[0].url} key={\"ID\" + index} />\n            )\n            )}\n        </div>\n      ))}\n    </div>\n  );\n}\n\nexport default Recom;"],"mappings":"ubAAA,MAAOA,MAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,aAAa,CACpB,MAAOC,eAAc,KAAM,oBAAoB,CAAC,2CAChD,GAAMC,YAAW,CAAG,CAAC,CACrB,QAASC,MAAK,CAACC,KAAK,CAAE,CACpB,cAAkCL,QAAQ,CAAC,EAAE,CAAC,wCAAvCM,SAAS,eAAEC,YAAY,eAC9B,eAAwBP,QAAQ,CAAC,CAAC,CAAC,yCAA5BQ,IAAI,eAAEC,OAAO,eACpB,eAAoCT,QAAQ,CAAC,CAAC,CAAC,yCAAxCU,UAAU,eAAEC,aAAa,eAEhC;AACA,GAAMC,WAAU,4FAAG,iBAAOC,KAAK,sKACNC,MAAK,yDAAyD,QAA/EC,QAAQ,qCACKA,SAAQ,CAACC,IAAI,EAAE,QAA5BC,IAAI,eACJP,UAAU,CAAGO,IAAI,CAACC,UAAU,CAACC,iBAAiB,CACpD;AACAZ,YAAY,CAACU,IAAI,CAACA,IAAI,CAAC,CACvBN,aAAa,CAACD,UAAU,CAAC,CACzBU,OAAO,CAACC,GAAG,uBAAgBX,UAAU,EAAG,CAAC,sDAC1C,kBARKE,WAAU,4CAQf,CAEDX,SAAS,CAAC,UAAM,CACdW,UAAU,EAAE,CACd,CAAC,CAAE,EAAE,CAAC,CAEN,mBACE,YAAK,QAAQ,CAAE,mBAAM,CACjB,GAAIJ,IAAI,CAAGE,UAAU,CAAE,CACrBD,OAAO,CAACD,IAAI,CAAG,CAAC,CAAC,CACnB,CACJ,CAAE,UACCF,SAAS,CAACgB,KAAK,CAAC,CAAC,CAAEd,IAAI,CAAGL,WAAW,CAAC,CAACoB,GAAG,CAAC,SAACC,IAAI,CAAEC,KAAK,qBACtD,YAAK,SAAS,CAAC,WAAW,UAItBnB,SAAS,SAATA,SAAS,iBAATA,SAAS,CAAEiB,GAAG,CAAC,SAACG,KAAK,CAAED,KAAK,qBAC1B,KAAC,cAAc,EAAC,UAAU,CAAEpB,KAAK,CAACsB,KAAM,CAAC,SAAS,CAAE,YAAa,CAAC,KAAK,CAAED,KAAK,CAACE,KAAK,CAAC,CAAC,CAAC,CAACC,KAAM,CAAC,KAAK,CAAEH,KAAK,CAACE,KAAK,CAAC,CAAC,CAAC,CAACE,MAAM,CAACC,GAAG,CAACC,eAAgB,CAAC,WAAW,CAAEN,KAAK,CAACO,OAAQ,CAAC,IAAI,CAAEP,KAAK,CAACE,KAAK,CAAC,CAAC,CAAC,CAACM,GAAI,EAAM,IAAI,CAAGT,KAAK,CAAI,EAC7N,CACA,EAP2B,MAAM,CAAGA,KAAK,CAQxC,EACP,CAAC,EACE,CAEV,CAEA,cAAerB,MAAK"},"metadata":{},"sourceType":"module","externalDependencies":[]}