{"ast":null,"code":"import _regeneratorRuntime from\"/Users/rsahani/Documents/RAHUL/PROJECT V-Anime/v-anime1/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/rsahani/Documents/RAHUL/PROJECT V-Anime/v-anime1/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/rsahani/Documents/RAHUL/PROJECT V-Anime/v-anime1/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import'../main.css';import MY_Navbar2 from'../components/Navbar_2';import ThemeToggleButton from'../components/toggleTheme';import'./WatchAnime.css';import{Link}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ItemPerPage=25;function Watch(){var _useState=useState(\"Naruto\"),_useState2=_slicedToArray(_useState,2),Query=_useState2[0],setQuery=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),animeList=_useState4[0],setAnimeList=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),WatchUrl=_useState6[0],setWatchUrl=_useState6[1];var _useState7=useState(1),_useState8=_slicedToArray(_useState7,2),TotalEP=_useState8[0],setTotalEP=_useState8[1];var Ep_no=window.location.pathname.split('/')[2];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),isDarkMode=_useState10[0],setIsDarkMode=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),dataLoaded=_useState12[0],setDataLoaded=_useState12[1];var handleThemeToggle=function handleThemeToggle(){setIsDarkMode(!isDarkMode);};function handleChange(que){setQuery(que);}var handleLinkClick=function handleLinkClick(episodeId){fetchAnime(episodeId);};var fetchEpisodes=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(query){var response,data,animeList,TotalEP;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"https://gogoanime.consumet.stream/anime-details/\".concat(query));case 2:response=_context.sent;_context.next=5;return response.json();case 5:data=_context.sent;animeList=data;setAnimeList(animeList);_context.next=10;return animeList.totalEpisodes;case 10:TotalEP=_context.sent;setTotalEP(TotalEP);console.log(animeList);console.log(\"TITLE: \"+animeList.animeTitle);console.log(\"Total Ep: \"+TotalEP);console.log(\"Episode : \"+animeList.episodesList[0].episodeId);setDataLoaded(true);case 17:case\"end\":return _context.stop();}},_callee);}));return function fetchEpisodes(_x){return _ref.apply(this,arguments);};}();var fetchAnime=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(Epi_No){var response,data,WatchUrl;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetch(\"https://gogoanime.consumet.stream/vidcdn/watch/\".concat(Epi_No));case 2:response=_context2.sent;_context2.next=5;return response.json();case 5:data=_context2.sent;WatchUrl=data.Referer;setWatchUrl(WatchUrl);console.log(WatchUrl);setDataLoaded(true);case 10:case\"end\":return _context2.stop();}},_callee2);}));return function fetchAnime(_x2){return _ref2.apply(this,arguments);};}();useEffect(function(){if(Ep_no){console.log(Ep_no);fetchAnime(Ep_no);}fetchEpisodes(Query);},[]);if(!dataLoaded){return/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"});}else{return/*#__PURE__*/_jsxs(\"div\",{className:\"app\",children:[/*#__PURE__*/_jsxs(\"h1\",{children:[\" \",animeList.animeTitle]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",onChange:function onChange(e){return handleChange(e.target.value);}}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",onClick:function onClick(){return fetchEpisodes(Query);}}),/*#__PURE__*/_jsxs(\"div\",{className:\"main-content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"content\",children:animeList.episodesList.slice(0).reverse().map(function(episode,index){return/*#__PURE__*/_jsx(\"div\",{className:\"episode\",children:/*#__PURE__*/_jsx(Link,{className:\"link\",to:\"/watch/\".concat(episode.episodeId),onClick:function onClick(){return handleLinkClick(episode.episodeId);},children:episode.episodeId.split(\"-\")[2]})},index);})}),/*#__PURE__*/_jsx(\"div\",{className:\"video\",children:/*#__PURE__*/_jsx(\"iframe\",{src:WatchUrl,width:\"1080px\",height:\"600px\"})})]})]});}}export default Watch;","map":{"version":3,"names":["React","useState","useEffect","MY_Navbar2","ThemeToggleButton","Link","ItemPerPage","Watch","Query","setQuery","animeList","setAnimeList","WatchUrl","setWatchUrl","TotalEP","setTotalEP","Ep_no","window","location","pathname","split","isDarkMode","setIsDarkMode","dataLoaded","setDataLoaded","handleThemeToggle","handleChange","que","handleLinkClick","episodeId","fetchAnime","fetchEpisodes","query","fetch","response","json","data","totalEpisodes","console","log","animeTitle","episodesList","Epi_No","Referer","e","target","value","slice","reverse","map","episode","index"],"sources":["/Users/rsahani/Documents/RAHUL/PROJECT V-Anime/v-anime1/src/pages/WatchAnime.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport '../main.css';\nimport MY_Navbar2 from '../components/Navbar_2';\nimport ThemeToggleButton from '../components/toggleTheme';\nimport './WatchAnime.css';\nimport { Link } from 'react-router-dom';\n\nconst ItemPerPage = 25;\n\nfunction Watch() {\n    const [Query, setQuery] = useState(\"Naruto\");\n    const [animeList, setAnimeList] = useState({});\n    const [WatchUrl, setWatchUrl] = useState(\"\");\n\n    const [TotalEP, setTotalEP] = useState(1);\n    const Ep_no = window.location.pathname.split('/')[2];\n\n    const [isDarkMode, setIsDarkMode] = useState(false);\n    const [dataLoaded, setDataLoaded] = useState(false);\n\n    const handleThemeToggle = () => {\n        setIsDarkMode(!isDarkMode);\n    };\n\n    function handleChange(que) {\n        setQuery(que);\n    }\n\n    const handleLinkClick = (episodeId) => {\n        fetchAnime(episodeId);\n    };\n\n\n    const fetchEpisodes = async (query) => {\n        const response = await fetch(`https://gogoanime.consumet.stream/anime-details/${query}`)\n        const data = await response.json();\n        const animeList = data;\n        setAnimeList(animeList);\n        const TotalEP = await animeList.totalEpisodes;\n        setTotalEP(TotalEP);\n        console.log(animeList);\n        console.log(\"TITLE: \" + animeList.animeTitle);\n        console.log(\"Total Ep: \" + TotalEP);\n        console.log(\"Episode : \" + animeList.episodesList[0].episodeId);\n        setDataLoaded(true);\n    };\n    const fetchAnime = async (Epi_No) => {\n        const response = await fetch(`https://gogoanime.consumet.stream/vidcdn/watch/${Epi_No}`)\n        const data = await response.json();\n        const WatchUrl = data.Referer;\n        setWatchUrl(WatchUrl);\n        console.log(WatchUrl);\n\n        setDataLoaded(true);\n    };\n\n    useEffect(() => {\n        if (Ep_no) {\n            console.log(Ep_no);\n            fetchAnime(Ep_no);\n        }\n        fetchEpisodes(Query);\n    }, []);\n\n    if (!dataLoaded) {\n        return <div>Loading...</div>;\n    } else {\n        return (\n            <div className={`app`}>\n                <h1> {animeList.animeTitle}</h1>\n                <input type={\"text\"} onChange={e => handleChange(e.target.value)} />\n                <input type={\"submit\"} onClick={() => fetchEpisodes(Query)} />\n                <div className='main-content'>\n\n                    <div className='content' >\n                        {animeList.episodesList.slice(0).reverse().map((episode, index) => (\n                            <div className='episode' key={index} >\n                                <Link\n                                    className='link'\n                                    to={`/watch/${episode.episodeId}`}\n                                    onClick={() => handleLinkClick(episode.episodeId)}\n                                >\n                                    {episode.episodeId.split(\"-\")[2]}\n                                </Link>\n                            </div>\n                        ))}\n                    </div>\n                    <div className='video'>\n                        <iframe src={WatchUrl} width={\"1080px\"} height={\"600px\"}></iframe>\n                    </div>\n                </div>\n\n\n            </div>\n        );\n    }\n}\n\nexport default Watch;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}