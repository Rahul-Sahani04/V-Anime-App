{"ast":null,"code":"import _regeneratorRuntime from\"/Users/rsahani/Documents/RAHUL/PROJECT V-Anime/v-anime1/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/rsahani/Documents/RAHUL/PROJECT V-Anime/v-anime1/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/rsahani/Documents/RAHUL/PROJECT V-Anime/v-anime1/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import'../main.css';import Card_Component from'../components/card';import MY_Navbar2 from'../components/Navbar_2';import ThemeToggleButton from'../components/toggleTheme';import{useLocation}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ItemPerPage=5;var Search=function Search(_ref){var query_y=_ref.query_y;var _useState=useState(\"One Piece\"),_useState2=_slicedToArray(_useState,2),Query=_useState2[0],setQuery=_useState2[1];var temp=\"\";var _useState3=useState(1),_useState4=_slicedToArray(_useState3,2),page=_useState4[0],setPage=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),animeList=_useState6[0],setAnimeList=_useState6[1];var _useState7=useState(1),_useState8=_slicedToArray(_useState7,2),totalPages=_useState8[0],setTotalPages=_useState8[1];var _useState9=useState(1),_useState10=_slicedToArray(_useState9,2),Totalitems=_useState10[0],setTotalItems=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),isDarkMode=_useState12[0],setIsDarkMode=_useState12[1];var handleThemeToggle=function handleThemeToggle(){setIsDarkMode(!isDarkMode);};var location=useLocation();var fetchLocation=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var _location$state,_location$state2;var temp,fromHome;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:temp=location.search.split(\"=\");setQuery(temp[1]);if(((_location$state=location.state)===null||_location$state===void 0?void 0:_location$state.fromHome)==true){setQuery(location.search.split(\"=\"));console.log(\"QQQ \"+Query);}fromHome=(_location$state2=location.state)===null||_location$state2===void 0?void 0:_location$state2.fromHome;console.log(fromHome);case 5:case\"end\":return _context.stop();}},_callee);}));return function fetchLocation(){return _ref2.apply(this,arguments);};}();var fetchAnime=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(query,page){var response,data,totalPages,Totalitems;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetch(\"https://api.jikan.moe/v4/anime?q=\\\"\".concat(query,\"\\\"&page=\").concat(page,\"&order_by=title&sort=asc\"));case 2:response=_context2.sent;_context2.next=5;return response.json();case 5:data=_context2.sent;totalPages=data.pagination.last_visible_page;Totalitems=data.pagination.items.count;console.log(data.data);setAnimeList(data.data);setTotalPages(totalPages);setTotalItems(Totalitems);setQuery(temp);console.log(\"TOTAL PAGE: \".concat(totalPages,\" & ITems: \").concat(Totalitems,\" & \").concat(location.search.split(\"=\")[1]));case 14:case\"end\":return _context2.stop();}},_callee2);}));return function fetchAnime(_x,_x2){return _ref3.apply(this,arguments);};}();useEffect(function(){console.log(\"Welcome to Search \"+location.search);if(location.search!=undefined||location.search!=null){temp=location.search.split(\"=\")[1];fetchAnime(temp,page);}else{fetchAnime(Query,page);}},[]);return/*#__PURE__*/_jsx(\"div\",{className:\"app\",children:/*#__PURE__*/_jsxs(\"div\",{className:isDarkMode?'app light-theme':'app dark-theme',children:[/*#__PURE__*/_jsx(MY_Navbar2,{}),/*#__PURE__*/_jsx(\"div\",{className:\"toggle\",children:/*#__PURE__*/_jsx(ThemeToggleButton,{isDarkMode:isDarkMode,onToggle:handleThemeToggle})}),/*#__PURE__*/_jsxs(\"div\",{className:\"search1-box content-wrap\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"search-box\",value:Query,type:\"text\",onChange:function onChange(e){return setQuery(e.target.value);}}),/*#__PURE__*/_jsx(\"input\",{className:\"button-27\",value:\"Search\",type:\"Button\",onClick:function onClick(){return fetchAnime(Query,1);}})]}),/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:animeList===null||animeList===void 0?void 0:animeList.map(function(anime,index){return/*#__PURE__*/_jsx(Card_Component,{className:'anime-card',title:anime.title,description:anime.synopsis,image:anime.images.jpg.large_image_url},index);})},\"D-ID\")]})});};export default Search;","map":{"version":3,"names":["React","useState","useEffect","Card_Component","MY_Navbar2","ThemeToggleButton","useLocation","ItemPerPage","Search","query_y","Query","setQuery","temp","page","setPage","animeList","setAnimeList","totalPages","setTotalPages","Totalitems","setTotalItems","isDarkMode","setIsDarkMode","handleThemeToggle","location","fetchLocation","search","split","state","fromHome","console","log","fetchAnime","query","fetch","response","json","data","pagination","last_visible_page","items","count","undefined","e","target","value","map","anime","index","title","synopsis","images","jpg","large_image_url"],"sources":["/Users/rsahani/Documents/RAHUL/PROJECT V-Anime/v-anime1/src/pages/Search.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport '../main.css';\nimport Card_Component from '../components/card';\nimport MY_Navbar2 from '../components/Navbar_2';\nimport ThemeToggleButton from '../components/toggleTheme';\nimport { useLocation } from 'react-router-dom';\nconst ItemPerPage = 5;\n\nconst Search = ({ query_y }) => {\n    const [Query, setQuery] = useState(\"One Piece\");\n    let temp = \"\";\n    const [page, setPage] = useState(1);\n    const [animeList, setAnimeList] = useState([]);\n    const [totalPages, setTotalPages] = useState(1);\n    const [Totalitems, setTotalItems] = useState(1);\n\n    const [isDarkMode, setIsDarkMode] = useState(false);\n\n    const handleThemeToggle = () => {\n        setIsDarkMode(!isDarkMode);\n    };\n\n\n    const location = useLocation();\n    const fetchLocation = async () => {\n        const temp = location.search.split(\"=\");\n        setQuery(temp[1]);\n        if (location.state?.fromHome == true) {\n            setQuery(location.search.split(\"=\"));\n            console.log(\"QQQ \" + Query);\n        }\n        const fromHome = location.state?.fromHome;\n        console.log(fromHome);\n\n    }\n\n    const fetchAnime = async (query, page) => {\n        const response = await fetch(`https://api.jikan.moe/v4/anime?q=\"${query}\"&page=${page}&order_by=title&sort=asc`);\n        const data = await response.json();\n        const totalPages = data.pagination.last_visible_page;\n        const Totalitems = data.pagination.items.count;\n        console.log(data.data);\n        setAnimeList(data.data);\n        setTotalPages(totalPages);\n        setTotalItems(Totalitems);\n        setQuery(temp);\n        console.log(`TOTAL PAGE: ${totalPages} & ITems: ${Totalitems} & ${location.search.split(\"=\")[1]}`);\n    };\n\n    useEffect(() => {\n        console.log(\"Welcome to Search \" + location.search);\n        if(location.search != undefined || location.search != null){\n            temp = location.search.split(\"=\")[1];\n            fetchAnime(temp, page);\n        }\n        else{\n            fetchAnime(Query, page);\n        }\n    }, []);\n    return (\n        <div className={`app`}>\n            <div className={isDarkMode ? 'app light-theme' : 'app dark-theme'}>\n                <MY_Navbar2 />\n                <div className='toggle'>\n                    <ThemeToggleButton isDarkMode={isDarkMode} onToggle={handleThemeToggle} />\n                </div>\n                <div className='search1-box content-wrap'>\n\n                    <input className='search-box' value={Query} type={\"text\"} onChange={e => setQuery(e.target.value)} />\n                    <input className='button-27' value={\"Search\"} type={\"Button\"} onClick={() => fetchAnime(Query, 1)} />\n\n                </div>\n                <div className='container' key={\"D-ID\"}>\n                    {\n                        animeList?.map((anime, index) => (\n                            <Card_Component className={'anime-card'} title={anime.title} description={anime.synopsis} image={anime.images.jpg.large_image_url} key={index} />\n                        )\n                        )}\n                </div>\n\n            </div>\n        </div>\n    )\n\n}\nexport default Search;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}